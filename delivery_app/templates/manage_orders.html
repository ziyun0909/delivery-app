{% extends 'base.html' %}
{% block content %}
<h2>管理所有訂單</h2>

<table class="table table-striped">
    <thead>
        <tr><th>ID</th><th>使用者</th><th>餐點</th><th>數量</th><th>狀態</th><th>更新</th></tr>
    </thead>
    <tbody>
    {% for id, username, item, qty, status in orders %}
    <tr>
        <td>{{ id }}</td>
        <td>{{ username }}</td>
        <td>{{ item }}</td>
        <td>{{ qty }}</td>
        <td>{{ status }}</td>
        <td>
            <form method="post" class="d-flex gap-2">
                <input type="hidden" name="order_id" value="{{ id }}">
                <select name="new_status" class="form-select form-select-sm w-auto">
                    <option {{ 'selected' if status == '準備中' }}>準備中</option>
                    <option {{ 'selected' if status == '已出餐' }}>已出餐</option>
                    <option {{ 'selected' if status == '已送達' }}>已送達</option>
                </select>
                <button type="submit" class="btn btn-sm btn-outline-primary">更新</button>
            </form>
        </td>
    </tr>
    {% endfor %}
    </tbody>
</table>

<a href="/" class="btn btn-secondary">回首頁</a>
{% endblock %}